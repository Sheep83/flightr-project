<<<<<<< HEAD
{"version":3,"sources":["webpack:///webpack/bootstrap b2f814aa1165defb1a04","webpack:///./src/index.js","webpack:///./src/map.js","webpack:///./src/place.js"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;ACtCA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,mBAAkB;AAClB,+B;AACA;;AAEA;;;AAGA,oBAAmB;AACnB;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,mBAAkB;AAClB;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,cAAa,sBAAsB;AACnC;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA,8BAA6B,cAAc;AAC3C;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;;;;;;AClIA;AACA;AACA;AACA;AACA,IAAG;AACH;;AAEA,sB;;;;;;ACPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,mBAAkB,yBAAyB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,WAAU;AACV;AACA;AACA;AACA;;AAEA;;AAEA,wB","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap b2f814aa1165defb1a04\n **/","var Map = require('./map');\nvar Place = require('./place')\nwindow.onload = function(){\n  var place = new Place();\n\n  var button = document.getElementById('button');\n  button.onclick = function(){\n    origin = document.getElementById('origin').value;\n    destination = document.getElementById('destination').value;\n    startDate = document.getElementById('start-date').value;\n    endDate = document.getElementById('end-date').value;\n    noRooms = document.getElementById('no-rooms');\n    noRoomsValue = noRooms.options[noRooms.selectedIndex].text;\n    sendOriginRequest();\n    place.populate(destination);\n    console.log(place.places)\n\n    var center = {lat: 55.9533, lng: -3.1883};\n    var map = new Map(center);  \n  }\n\n  locations = place.get()\n     \n\n  // var center = {lat: 55.9533, lng: -3.1883};\n  // var map = new Map(center);\n};\n\nvar sendOriginRequest = function() {\n  var url_origin = \"http://partners.api.skyscanner.net/apiservices/autosuggest/v1.0/GB/GBP/en-GB?query=\" + origin + \"&apiKey=co666659065635714271429118382522\";\n\n  var req_origin = new XMLHttpRequest();\n  req_origin.open(\"GET\", url_origin);\n  req_origin.send(null);\n\n  req_origin.onload = function() {\n    var res_origin = JSON.parse(req_origin.responseText);\n    ss_origin = res_origin.Places[0].CityId.substring(0, 3);\n    sendDestinationRequest();\n  }\n}\n\nvar sendDestinationRequest = function() {\n  var url_destination = \"http://partners.api.skyscanner.net/apiservices/autosuggest/v1.0/GB/GBP/en-GB?query=\" + destination + \"&apiKey=co666659065635714271429118382522\";\n\n  var req_destination = new XMLHttpRequest();\n  req_destination.open(\"GET\", url_destination);\n  req_destination.send(null);\n\n  req_destination.onload = function(){\n    var res_destination = JSON.parse(req_destination.responseText);\n    ss_destination = res_destination.Places[0].CityId.substring(0, 3)\n  \n    initMap();\n    sendSearchRequests();\n  }\n}\n\nfunction initMap() {\n  // Markers={}\n  var myLatLng = {lat: -25.363, lng: 131.044};\n  var map = new google.maps.Map(document.getElementById('map'), {\n    zoom: 4,\n    center: myLatLng\n  })\n  infowindow = new google.maps.InfoWindow();\n  var bounds = new google.maps.LatLngBounds();\n  for (i = 0; i < locations.length; i++){\n    var marker = new google.maps.Marker({\n      position: new google.maps.LatLng(parseFloat(locations[i][1]), parseFloat(locations[i][2])),\n      map: map,\n      title: locations[i][0]\n    });\n    bounds.extend(marker.position);\n    map.fitBounds(bounds);\n    google.maps.event.addListener(marker, 'click',(function(marker,i){\n     return function(){\n      infowindow.setContent(locations[i][0]);\n      infowindow.setOptions({maxWidth: 200});\n      infowindow.open(map, marker)\n    }\n  })(marker,i));\n    // Markers[locations[i][4]] = marker;\n  }\n  // locate(0)\n}\n\n// function locate() {\n//   // var myMarker = Markers[marker_id];\n//   // // var markerPosition = myMarker.getPosition();\n//   // // map.setCenter(markerPosition);\n//   // google.maps.event.trigger(myMarker, 'click');\n// }\n\n\n\nvar sendSearchRequests = function() {\n  var url_ss = \"http://partners.api.skyscanner.net/apiservices/browsedates/v1.0/GB/GBP/en-GB/\" + ss_origin + \"/\" + ss_destination + \"/\" + startDate + \"/\" + endDate + \"?apiKey=co666659065635714271429118382522\";\n\n  var url_exp = \"http://terminal2.expedia.com/x/mhotels/search?city=\" + origin + \"&checkInDate=\" + startDate + \"&checkOutDate=\" + endDate + \"&room1=\" + noRoomsValue + \"&resultsPerPage=-1&apikey=fZPSPARW8ZW6Yg738AzbASiN8VPFwVos\";\n\n  var req_ss = new XMLHttpRequest();\n  req_ss.open(\"GET\", url_ss);\n  req_ss.send(null);\n  req_ss.onload = function(){\n    var res_ss = JSON.parse(req_ss.responseText);\n \n  }\n\n  var req_exp = new XMLHttpRequest();\n  req_exp.open(\"GET\", url_exp);\n  req_exp.send(null);\n  req_exp.onload = function(){\n    var res_exp = JSON.parse(req_exp.responseText);\n   \n    displayFlightResults();\n    displayHotelResults();\n  }\n}\n\nvar displayFlightResults = function() {\n  var flightResult1 = document.getElementById(\"flight1\");\n  var flightResult2 = document.getElementById(\"flight2\");\n  var flightResult3 = document.getElementById(\"flight3\");\n  var flightResult4 = document.getElementById(\"flight4\");\n  var flightResult5 = document.getElementById(\"flight5\");\n}\n\nvar displayHotelResults = function() {\n  \n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/index.js\n ** module id = 0\n ** module chunks = 0\n **/","var Map = function(latlng){\n  this.map = new google.maps.Map(document.getElementById('map'),{\n    center: latlng,\n    zoom: 14\n  })\n}\n\nmodule.exports = Map;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/map.js\n ** module id = 1\n ** module chunks = 0\n **/","var Place = function(){\n  this.places=[]\n}\nPlace.prototype = {\n populate : function(destination){\n   var url = \"http://terminal2.expedia.com/x/activities/search?location=\" + destination + \"&apikey=fZPSPARW8ZW6Yg738AzbASiN8VPFwVos\";\n   var request = new XMLHttpRequest();\n   request.open(\"GET\", url);\n   request.onload = function(){\n     var jsonString = request.responseText;\n     var info = JSON.parse(jsonString);\n   \n     this.places.push(info);\n     console.log(places)\n     var location=[]\n     var arr=[]\n     for (var i=0;i<info.activities.length;i++){\n               var coor = info.activities[i].latLng.split(',')\n               var lat = parseFloat(coor[0])\n               var lang = parseFloat(coor[1])\n               arr=[]\n               arr.push(info.activities[i].title)\n               arr.push(lat)\n               arr.push(lang)\n               location.push(arr)\n             }\n             localStorage.setItem('event', JSON.stringify(location))\n           }\n\n           request.send(null);\n         },\n         get:function(){\n           var event = localStorage.getItem('event')\n           return JSON.parse(event)\n         }\n\n       }\n\nmodule.exports = Place;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/place.js\n ** module id = 2\n ** module chunks = 0\n **/"],"sourceRoot":""}
=======
{"version":3,"sources":["webpack:///webpack/bootstrap e1c11b484cb22d75fa9e","webpack:///./src/index.js"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;ACtCA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;;AAIA","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap e1c11b484cb22d75fa9e\n **/","window.onload = function(){\n  // console.log('window loaded');\n\n  var url_ss = \"http://partners.api.skyscanner.net/apiservices/browsedates/v1.0/GB/GBP/en-GB/LON/JFK/2016-08-02/2016-08-04?apiKey=prtl6749387986743898559646983194\"\n\n  var url_exp = \"http://terminal2.expedia.com/x/mhotels/search?city=berlin&checkInDate=2016-12-15&checkOutDate=2016-12-17&sortOrder=true&room1=2&apikey=fZPSPARW8ZW6Yg738AzbASiN8VPFwVos\"\n\n  var req_ss = new XMLHttpRequest();\n  req_ss.open(\"GET\", url_ss);\n  // request.setRequestHeader('accept', 'application/json');\n  req_ss.send(null);\n  req_ss.onload = function(){\n    var res_ss = JSON.parse(req_ss.responseText);\n    console.log(res_ss.Places[0].CityName);\n  }\n  // var req_exp = new XMLHttpRequest();\n  // req_exp.open(\"GET\", url_exp);\n  // // request.setRequestHeader('accept', 'application/json');\n  // req_exp.send(null);\n  // req_exp.onload = function(){\n  //   var res_exp = JSON.parse(req_exp.responseText);\n  //   console.log(res_exp);\n\n  //   console.log(res_exp.hotelList[0].lowRateInfo.total);\n  // }\n\n  \n\n}\n\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/index.js\n ** module id = 0\n ** module chunks = 0\n **/"],"sourceRoot":""}
>>>>>>> nico
