{"version":3,"sources":["webpack:///webpack/bootstrap 21494f52cc74670ad845","webpack:///./src/index.js","webpack:///./src/place.js","webpack:///./src/saved_search/saved_search.js","webpack:///./src/map.js"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;;ACrCA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AAOA,sBAAqB;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;;;AAGA,oBAAmB;AACnB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,kBAAiB,qBAAqB;AACtC;AACA;AACA;;AAEA;AACA;AACA;;AAEA,oBAAmB,oBAAoB;AACvC;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;;;;AAKA;AACA;AACA;;;;AAIA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;;AAGA;;AAEA;AACA;AACA;AACA;;AAEA;;;AAGA;;;AAGA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;;AAIA;AACA;AACA;;AAEA,kBAAiB,gCAAgC;AACjD,4BAA2B;AAC3B;AACA;;AAEA;AACA;;AAEA,oCAAmC;AACnC;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,kBAAiB,UAAU;AAC3B;AACA;AACA,iDAAgD;AAChD;AACA,MAAK;AACL;AACA,iDAAgD;AAChD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,kBAAiB,+BAA+B;AAChD,gCAA+B;AAC/B;AACA;;AAEA;AACA;;AAEA;AACA;AACA,qCAAoC;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,kCAAiC;;AAEjC;;AAEA,qBAAoB,sBAAsB;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAK;AACL,IAAG,E;;AAEH;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,sBAAqB;AACrB;AACA,OAAM;AACN;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,OAAM;AACN;AACA,OAAM;AACN;AACA;AACA;;AAEA,uD;;;;;;ACtZA;;AAEA;;;AAGA;;;AAGA;AACA;AACA,qBAAoB;AACpB;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,gBAAe,sBAAsB;AACrC;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA,gCAA+B,cAAc;AAC7C;AACA;AACA,MAAK;AACL;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,mBAAkB,yBAAyB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,O;AACA;AACA,KAAI;;AAEJ;AACA,GAAE;;AAEF;AACA;AACA,oBAAmB;AACnB;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA,eAAc,sBAAsB;AACpC;AACA;AACA;AACA;AACA,OAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA,+BAA8B,cAAc;AAC5C;AACA;AACA,KAAI;AACJ;AACA;AACA,GAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,kBAAiB,yBAAyB;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,M;AACA;AACA,IAAG;;AAEH;AACA;;;AAGA;;AAEA,wB;;;;;;ACxHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,8B;;;;;;ACjBA;AACA;AACA;AACA;AACA,IAAG;AACH;;AAEA,sB","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 21494f52cc74670ad845\n **/","\nvar Place = require('./place');\n\n\nvar SavedSearch = require('./saved_search/saved_search');\nvar Map = require('./map');\nvar Place = require('./place');\n\n//not added iains stuff to state\nvar state = {\n  'flightsSelect': [],\n  \"selectedFlight\": [],\n  // \"selectedFlight\":[],\n  \"hotelsSelect\": [],\n  \"selectedHotel\": [],\n  \"savedSearch\": [],\n  \"latLng\": [],\n  \"resultsArray\": []\n}\n\n\nwindow.onload = function(){\n  var place = new Place();\n\n\n  var place = new Place();\n\n  var button = document.getElementById('button');\n  var packageButton = document.getElementById('package-button');\n  button.onclick = function(){\n    clearPreviousSearch();\n    origin = document.getElementById('origin').value;\n    destination = document.getElementById('destination').value;\n    startDate = document.getElementById('start-date').value;\n    endDate = document.getElementById('end-date').value;\n    noRooms = document.getElementById('no-rooms');\n    noRoomsValue = noRooms.options[noRooms.selectedIndex].text;\n    sendOriginRequest();\n\n    place.populate(destination);\n\n\n\n\n\n\n    // var center = {lat: 55.9533, lng: -3.1883};\n    // var map = new Map(center);\n    // console.log(map);\n    place.populate(destination);\n  }\n\n  packageButton.onclick = function(){\n    if (state.selectedFlight.length === 0 || state.selectedHotel.length === 0) {\n      alert(\"You haven't selected a valid flight and hotel. Please try again.\");\n    } else {\n      displaySavedSearch();\n      // NEED TO SAVE TO DB\n    }\n  }\n\n\n  // var center = {lat: 55.9533, lng: -3.1883};\n  // var map = new Map(center);\n};\n\nvar clearPreviousSearch = function() {\n  state.flightsSelect = [];\n  state.selectedFlight = [];\n  state.hotelsSelect = [];\n  state.selectedHotel = [];\n  state.savedSearch = [];\n  state.latLng = [];\n  state.resultsArray = [];\n  clearFlightDivs();\n  clearHotelDivs();\n}\n\nvar clearFlightDivs = function() {\n  var numberOfFlights = 5;\n  var localResultsArray = [];\n\n  for (var i = 0; i < numberOfFlights; i++) {\n      localResultsArray[i] = document.getElementById('flight-result' + (i)).innerHTML = \"\";\n    }\n  }\n\n  var clearHotelDivs = function() {\n    var numberOfHotels = 10;\n    var localResultsArray = [];\n\n    for (var i = 0; i < numberOfHotels; i++) {\n        localResultsArray[i] = document.getElementById('hotel-result' + (i)).innerHTML = \"\";\n      }\n    }\n\nvar sendOriginRequest = function() {\n  var url_origin = \"http://partners.api.skyscanner.net/apiservices/autosuggest/v1.0/GB/GBP/en-GB?query=\" + origin + \"&apiKey=co666659065635714271429118382522\";\n\n  var req_origin = new XMLHttpRequest();\n  req_origin.open(\"GET\", url_origin);\n  req_origin.send(null);\n\n  req_origin.onload = function() {\n    var res_origin = JSON.parse(req_origin.responseText);\n    ss_origin = res_origin.Places[0].CityId.substring(0, 3);\n    sendDestinationRequest();\n  }\n}\n\nvar sendDestinationRequest = function() {\n  var url_destination = \"http://partners.api.skyscanner.net/apiservices/autosuggest/v1.0/GB/GBP/en-GB?query=\" + destination + \"&apiKey=co666659065635714271429118382522\";\n\n  var req_destination = new XMLHttpRequest();\n  req_destination.open(\"GET\", url_destination);\n  req_destination.send(null);\n\n  req_destination.onload = function(){\n    var res_destination = JSON.parse(req_destination.responseText);\n    ss_destination = res_destination.Places[0].CityId.substring(0, 3)\n\n  \n  \n\n    sendSearchRequests();\n  }\n}\n\n\n\nvar sendSearchRequests = function() {\n  var url_ss = \"http://partners.api.skyscanner.net/apiservices/browsedates/v1.0/GB/GBP/en-GB/\" + ss_origin + \"/\" + ss_destination + \"/\" + startDate + \"/\" + endDate + \"?apiKey=co666659065635714271429118382522\";\n\n  var url_exp = \"http://terminal2.expedia.com/x/mhotels/search?city=\" + destination + \"&checkInDate=\" + startDate + \"&checkOutDate=\" + endDate + \"&room1=\" + noRoomsValue + \"&resultsPerPage=-1&apikey=fZPSPARW8ZW6Yg738AzbASiN8VPFwVos\";\n\n  var req_ss = new XMLHttpRequest();\n  req_ss.open(\"GET\", url_ss);\n  req_ss.send(null);\n  req_ss.onload = function(){\n\n    // var res_ss = JSON.parse(req_ss.responseText);\n\n    res_ss = JSON.parse(req_ss.responseText);\n\n\n  }\n\n  var req_exp = new XMLHttpRequest();\n  req_exp.open(\"GET\", url_exp);\n  req_exp.send(null);\n  req_exp.onload = function(){\n\n    // var res_exp = JSON.parse(req_exp.responseText);\n   \n\n    res_exp = JSON.parse(req_exp.responseText);\n\n\n    // NEW STUFF\n    loadCharts();\n    // NEW STUFF\n    \n    console.log(res_exp);\n\n    displayFlightResults();\n    displayHotelResults();\n  }\n}\n\n\n    // console.log(res_ss.Places[0].CityName);\n  // var req_exp = new XMLHttpRequest();\n  // req_exp.open(\"GET\", url_exp);\n  // // request.setRequestHeader('accept', 'application/json');\n  // req_exp.send(null);\n  // req_exp.onload = function(){\n  //   var res_exp = JSON.parse(req_exp.responseText);\n  //   console.log(res_exp);\n\n  //   console.log(res_exp.hotelList[0].lowRateInfo.total);\n  // }\n\n\n\nvar displayFlightResults = function() {\n  var displayFlightsArray = createDisplayHandles(5, \"flight\");\n  var index = 0;\n\n  for (var i = 0; i < displayFlightsArray.length; i++) {\n    if (res_ss.Quotes[i]) { // if there is a valid quote then print it\n      // but only if the trip has an inbound and outbound journey\n      if (res_ss.Quotes[i].InboundLeg && res_ss.Quotes[i].OutboundLeg) {\n\n        var airlineID = res_ss.Quotes[i].InboundLeg.CarrierIds[0];\n        var airlineName = getAirlineName(airlineID);\n\n        var flightResultDetails = {\"price\": res_ss.Quotes[i].MinPrice, \"direct\": res_ss.Quotes[i].Direct, \"outboundDate\": res_ss.Dates.OutboundDates[0].PartialDate, \"inboundDate\": res_ss.Dates.InboundDates[0].PartialDate, \"airline\": airlineName}\n        addFlightResultToPage(flightResultDetails, displayFlightsArray, index);\n        // console.log(\"The index here is\", index, \".....\");\n        state.flightsSelect.push(flightResultDetails);\n        // console.log(\"flight select here:\", state.flightsSelect);\n        index += 1;\n      } else {\n        continue;\n      }\n    }\n  }\n}\n\n// gets a handle on the divs used to display the flight and hotel results\nvar createDisplayHandles = function(size, type) {\n  // these are global so not overwritten on each click\n  userSelectedFlights = [];\n  userSelectedHotels = [];\n\n  for (var i = 0; i < size; i++) {\n    if (type === \"flight\") {\n      state.resultsArray[i] = document.getElementById('flight-result' + (i));\n      state.resultsArray[i].onclick=function(e){ selectedItem(e) };\n      // NEED TO STOP THIS REGISTERING CLICK WHEN CHILD ELEMENTS ARE CLICKED\n    } else {\n      state.resultsArray[i] = document.getElementById('hotel-result' + (i));\n      state.resultsArray[i].onclick=function(e){ selectedItem(e) };\n    }\n  }\n  console.log(\"resultsArray:\", state.resultsArray);\n  return state.resultsArray;\n}\n\n// returns the airline name, given the airline ID\nvar getAirlineName = function(airlineID) {\n  var airlinesArray = res_ss.Carriers;\n  for (var i in airlinesArray) {\n    if (airlineID === airlinesArray[i].CarrierId) {\n      return airlinesArray[i].Name;\n    }\n  }\n}\n\nvar addFlightResultToPage = function(flight, results, index) {\n  // console.log(\"im adding this to div\", index);\n  results[index].innerHTML += \"<p><b>\" + flight.airline + \"</b></p>\";\n  results[index].innerHTML += \"<p>\" + \"£\" + flight.price + \"</p>\";\n  if (flight.direct) {\n    results[index].innerHTML += \"<p>\" + \"Direct flight\" + \"</p>\";\n  } else {\n    results[index].innerHTML += \"<p>\" + \"Indirect flight\" + \"</p>\";\n  }\n  results[index].innerHTML += \"<p>\" + \"Departure date: \" + flight.outboundDate + \"</p>\";\n  results[index].innerHTML += \"<p>\" + \"Return date: \" + flight.inboundDate + \"</p>\";\n}\n\nvar displayHotelResults = function() {\n  var displayHotelsArray = createDisplayHandles(10);\n\n  for (var i = 0; i < displayHotelsArray.length; i++) {\n    if (res_exp.hotelList[i]) { // if there is a valid quote then print it\n      var hotelImageURL = res_exp.hotelList[i].largeThumbnailUrl;\n      var hotelImage = \"http://images.travelnow.com\" + hotelImageURL\n\n        // NEED TO UPDATE THIS BASED ON USER BUDGET\n        var userBudget = 500;\n\n        var hotel = res_exp.hotelList[i];\n        if(hotel.lowRateInfo.averageRate < userBudget){\n          var hotelResultDetails = {\"name\": res_exp.hotelList[i].name, \"description\": res_exp.hotelList[i].shortDescription, \"image\": hotelImage, \"guestRating\": res_exp.hotelList[i].hotelGuestRating, \"starRating\": res_exp.hotelList[i].hotelStarRating, \"lat\": res_exp.hotelList[i].latitude, \"long\": res_exp.hotelList[i].longitude, \"price\": res_exp.hotelList[i].lowRateInfo.total}\n          state.hotelsSelect.push(hotel);\n          // console.log(state.hotelsSelect);\n          console.log(state.hotelsSelect);\n          addHotelResultToPage(hotelResultDetails, displayHotelsArray, i);\n        }\n      }\n    }\n  }\n\n  var addHotelResultToPage = function(hotel, results, index) {\n    results[index].innerHTML += \"<p><b>\" + hotel.name + \"</b></p>\";\n    results[index].innerHTML += \"<p>\" + \"Total Cost: £\" + hotel.price + \"</p>\";\n    results[index].innerHTML += \"<img src=\" + hotel.image + \">\";\n    results[index].innerHTML += \"<p>\" + hotel.description + \"</p>\";\n    results[index].innerHTML += \"<p>\" + \"Guest rating: \" + hotel.guestRating + \"</p>\";\n    results[index].innerHTML += \"<p>\" + \"Star rating: \" + hotel.starRating + \"</p>\";\n  }\n\n// NEW STUFF\nvar loadCharts = function() {\n  priceBracketData = [];\n  // priceByProximityData = [];\n  var hotelData = res_exp;\n\n  var hotelPriceOptions = hotelData.priceOptions;\n  hotelPriceOptions.splice(-1,1); // remove last item from array\n\n  // var eachHotel = hotelData.hotelList;\n\n  // for (var i = 0; i < eachHotel.length; i++) {\n  //   var distance = eachHotel[i].proximityDistanceInMiles;\n  //   var count = 0;\n  //   if (distance < 1) {\n  //     count += 1;\n  //   }\n  //   console.log(count);\n  //   var cost = eachHotel[i].lowRateInfo.maxNightlyRate;\n    // var starRating = eachHotel[i].hotelStarRating;\n\n  hotelPriceOptions.forEach(function(priceRange) {\n    priceBracketData.push({\n      name: \"£\" + priceRange.minPrice + \" - £\" + priceRange.maxPrice,\n      y: priceRange.count\n    });\n  }); \n\n  new PieChart(\"Hotels by Price Range\", priceBracketData);\n  // new LineChart(\"Hotel Price by Proximity\", priceByProximityData);\n}\n// NEW STUFF\n\n//constructs and displays saved search object\nvar displaySavedSearch = function(event){\n\n  var saved = new SavedSearch(state.selectedFlight[0], state.selectedHotel[0]);\n  console.log(saved);\n  var savedResult = document.getElementById('saved')\n  savedResult.innerHTML = \"\";\n  var carrier = document.createElement('p');\n  var flightPrice = document.createElement('p');\n  var hotelName = document.createElement('p');\n  var hotelPrice = document.createElement('p');\n  var totalPrice = document.createElement('p');\n  var starRating = document.createElement('p');\n\n  carrier.innerText = \"Airline : \" + saved.flightCarrier;\n  hotelName.innerText = \"Hotel : \" + saved.hotelName;\n  flightPrice.innerText = \"Flight Cost : £\" + Math.floor(saved.flightPrice);\n  hotelPrice.innerText = \"Accomodation Cost : £\" + Math.floor(saved.hotelPrice);\n  starRating.innerHTML = \"Hotel Star Rating : \" + saved.starRating;\n  var totalCost = Math.floor(saved.flightPrice) + Math.floor(saved.hotelPrice);\n  totalPrice.innerHTML = \"Total Package Cost : £\" + Math.floor(totalCost);\n\n  savedResult.appendChild(carrier);\n  savedResult.appendChild(hotelName);\n  savedResult.appendChild(starRating);\n  savedResult.appendChild(flightPrice);\n  savedResult.appendChild(hotelPrice);\n  savedResult.appendChild(totalPrice);\n};\n\nvar selectedItem = function(e) {\n  console.log(e);\n  var childElement = String(e.target.id);\n  var parentElement = String(e.target.parentNode.id);\n\n  if (childElement.substring(0,6) === \"flight\") {\n    state.selectedFlight = [];\n    selectedIndex = childElement.substring(13,14);\n    // console.log(\"the slected index:\", state.flightsSelect);\n    state.selectedFlight.push(state.flightsSelect[selectedIndex]);\n    // console.log(\"123\", state.flightsSelect[selectedIndex]);\n  } else if (parentElement.substring(0,6) === \"flight\") {\n    state.selectedFlight = [];\n    selectedIndex = parentElement.substring(13,14);\n    state.selectedFlight.push(state.flightsSelect[selectedIndex]);\n  } else if (childElement.substring(0,5) === \"hotel\") {\n    state.selectedHotel = [];\n    selectedIndex = childElement.substring(12,13);\n    state.selectedHotel.push(state.hotelsSelect[selectedIndex]);\n  } else if (parentElement.substring(0,5) === \"hotel\") {\n    state.selectedHotel = [];\n    selectedIndex = parentElement.substring(12,13);\n    state.selectedHotel.push(state.hotelsSelect[selectedIndex]);\n  }\n  // console.log(\"selected flight\", state.selectedFlight);\n  // console.log(\"selected hotel\", state.selectedHotel);\n}\n\n\n// TO DO LIST:\n// 2. save the users options to db\n// 3. add functionality which enables user to retrieve their previous selections (including the date of the search)\n// 4. maybe add a line chart which shows cost by proximity to city centre, and a pie chart showing the number of hotels\n// 5. add geolocation so that the initial map defaults to the users location\n\n// this.setMapCenter = function(){\n//   navigator.geolocation.getCurrentPosition(function(position) {\n//     var center = {lat: position.coords.latitude, lng: position.coords.longitude};\n//     this.map.map.setCenter(center);\n//   }.bind(this));\n// }\n\n// 6. update the map with points of interest for the chosen destination - display this map as soon as the user enters their chosen options - maybe have POI in blue markers and hotels in red markers\n// 7. style the website - need to add a coloured border around the options that the user selects\n// 8. tidy up some of the code\n// 9. sort the hotel results\n\n// res_exp.hotelList.sort(compare);\n\n// function compare(a, b) {\n//   if (a.lowRateInfo.total < b.lowRateInfo.total) {\n//     return -1;\n//   } else if (a.lowRateInfo.total > b.lowRateInfo.total) {\n//     return 1;\n//   } else {\n//     return 0;\n//   }\n// }\n\n// 10. only display 5 hotel search results at one time\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/index.js\n ** module id = 0\n ** module chunks = 0\n **/","var Place = function(){\n\n}\n\n\nPlace.prototype = {\n\n\n  initMap: function(locations) {\n    // Markers={}\n    var myLatLng = {lat: -25.363, lng: 131.044};\n    var map = new google.maps.Map(document.getElementById('map'), {\n      zoom: 4,\n      center: myLatLng\n    })\n    infowindow = new google.maps.InfoWindow();\n    var bounds = new google.maps.LatLngBounds();\n    for (i = 0; i < locations.length; i++){\n      var marker = new google.maps.Marker({\n        position: new google.maps.LatLng(parseFloat(locations[i][1]), parseFloat(locations[i][2])),\n        map: map,\n        title: locations[i][0]\n      });\n      bounds.extend(marker.position);\n      map.fitBounds(bounds);\n      google.maps.event.addListener(marker, 'click',(function(marker,i){\n       return function(){\n        infowindow.setContent(locations[i][0]);\n        infowindow.setOptions({maxWidth: 200});\n        infowindow.open(map, marker)\n      }\n    })(marker,i));\n      // Markers[locations[i][4]] = marker;\n    }\n  },\n\n populate : function(destination){\n   var url = \"http://terminal2.expedia.com/x/activities/search?location=\" + destination + \"&apikey=fZPSPARW8ZW6Yg738AzbASiN8VPFwVos\";\n   var request = new XMLHttpRequest();\n   request.open(\"GET\", url);\n   request.onload = function(){\n     var jsonString = request.responseText;\n     var info = JSON.parse(jsonString);\n\n     var location=[]\n     var arr=[]\n     for (var i=0;i<info.activities.length;i++){\n       var coor = info.activities[i].latLng.split(',')\n       var lat = parseFloat(coor[0])\n       var lang = parseFloat(coor[1])\n       arr=[]\n       arr.push(info.activities[i].title)\n       arr.push(lat)\n       arr.push(lang)\n       location.push(arr)\n     }     \n     this.initMap(location);\n   }.bind(this);\n\n  request.send(null);\n },\n\n initMap: function(locations) {\n   // Markers={}\n   var myLatLng = {lat: -25.363, lng: 131.044};\n   var map = new google.maps.Map(document.getElementById('map'), {\n     zoom: 4,\n     center: myLatLng\n   })\n   infowindow = new google.maps.InfoWindow();\n   var bounds = new google.maps.LatLngBounds();\n   for (i = 0; i < locations.length; i++){\n     var marker = new google.maps.Marker({\n       position: new google.maps.LatLng(parseFloat(locations[i][1]), parseFloat(locations[i][2])),\n       map: map,\n       title: locations[i][0],\n     });\n     marker.setIcon('http://maps.google.com/mapfiles/ms/icons/green-dot.png');\n     bounds.extend(marker.position);\n     map.fitBounds(bounds);\n     google.maps.event.addListener(marker, 'click',(function(marker,i){\n      return function(){\n       infowindow.setContent(locations[i][0]);\n       infowindow.setOptions({maxWidth: 200});\n       infowindow.open(map, marker)\n     }\n   })(marker,i));\n     // Markers[locations[i][4]] = marker;\n   }\n },\n\npopulate : function(destination){\n  var url = \"http://terminal2.expedia.com/x/activities/search?location=\" + destination + \"&apikey=fZPSPARW8ZW6Yg738AzbASiN8VPFwVos\";\n  var request = new XMLHttpRequest();\n  request.open(\"GET\", url);\n  request.onload = function(){\n    var jsonString = request.responseText;\n    var info = JSON.parse(jsonString);\n\n    var location=[]\n    var arr=[]\n    for (var i=0;i<info.activities.length;i++){\n      var coor = info.activities[i].latLng.split(',')\n      var lat = parseFloat(coor[0])\n      var lang = parseFloat(coor[1])\n      arr=[]\n      arr.push(info.activities[i].title)\n      arr.push(lat)\n      arr.push(lang)\n      location.push(arr)\n    }     \n    this.initMap(location);\n  }.bind(this);\n\n request.send(null);\n}\n\n\n}\n\nmodule.exports = Place;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/place.js\n ** module id = 1\n ** module chunks = 0\n **/","var SavedSearch = function(ssObj, expObj){\n   console.log(expObj, \"HEREEEE\");\n   this.flightDepDate = ssObj.outboundDate,\n   this.flightRetDate = ssObj.inboundDate,\n   this.flightCarrier = ssObj.airline,\n   this.flightPrice = ssObj.price,\n   this.hotelName =  expObj.localizedName,\n   this.starRating = expObj.hotelStarRating,\n   this.hotelPrice = expObj.lowRateInfo.total\n};\n\nSavedSearch.prototype = {\n   saveToDb: function(saved){\n     // function to save search to database\n   }\n}\n\nmodule.exports = SavedSearch;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/saved_search/saved_search.js\n ** module id = 2\n ** module chunks = 0\n **/","var Map = function(latlng){\n  this.map = new google.maps.Map(document.getElementById('map'),{\n    center: latlng,\n    zoom: 14\n  })\n}\n\nmodule.exports = Map;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/map.js\n ** module id = 3\n ** module chunks = 0\n **/"],"sourceRoot":""}